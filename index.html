<!DOCTYPE html>
<html lang="en">
<!-- 
   Team Members: Guilherme Forssetto, Jacques Ehrardt and Pedro Soares.
 -->

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Sudoku</title>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<style>
   td {
      border: solid 1px;
      padding: 15px;
   }

   table {
      border-collapse: collapse;
      font-size: 25px;
      display: flex;
      flex-direction: column;
      align-items: center;
   }
</style>

<body>
   <table>

   </table>
</body>
<script>
   let sudoku = null;
   let sudokuReady = null;
   let addBtn = $("<button>Add Sudoku</button>");
   let valBtn = $("<button>Validate</button>");
   let table = $("table");
   let body = $("body");
   $.getJSON("http://127.0.0.1:5501/data/source.json", (values) => {
      values.forEach((number) => {
         sudoku = number.values;
      })
   })

   let addTable = () => {
      $("table").empty();
      for (let row of sudoku) {
         let tr = $("<tr></tr>");
         for (let val of row) {
            let td = $("<td></td>");
            td.append(val);
            tr.append(td);
         }
         table.append(tr);
      }

   }

   let call = () => {
      sudokuReady = [];
      let counter = 0;
      for (let i = 0; i < 9; i++) {
         let sRow = new Array()
         for (let i = 0; i < 9; i++) {
            sRow.push(parseInt($('td').eq(counter++).text()))
         }
         sudokuReady.push(sRow);
      }
      console.log(sudokuReady)
   }

   addBtn.click(addTable);
   valBtn.click(call);
   body.prepend(addBtn, valBtn);
</script>

</html>